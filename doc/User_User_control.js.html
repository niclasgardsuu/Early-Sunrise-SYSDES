<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: User/User_control.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: User/User_control.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>// =====================================================================================================
// Control and View Control for User 
// =====================================================================================================
// Call the appropriate functions.
// And updates the model with the result, and then updates the view from the model.
// =====================================================================================================

/**
 * Get into log in process
*/
function toLogIn() {

    username    = document.getElementById('username');
    password    = document.getElementById('password');
    logIn(username.value, password.value);
}

/**
 * Provide the control view for the Vip account balance
*/
function showBalance() {
    balance = getAccountBalance();
    
    $("#innerDisplay").text(balance).fadeIn();
    setTimeout(function() { $("#innerDisplay").fadeOut(); }, 3000);
}

/**
 * Adding an amount to the Vip account balance
*/
function addToAcc() {

    userName  = document.getElementById('adToAccUsername');   
    newAmount = document.getElementById('addAmount');
    changed   = addBalance(userName.value, newAmount.value);
}

/**
 * Control the log in view for Vip
*/
function logInVip() {
    document.getElementById("product-info-hide").checked = false;
    $("#loginDisplay").html("");
    $("#loginDisplay").html(createVipLogIn());
    updateViewUser();
}

/**
 * Control the view for the log in for staff and manager
*/
function logInStaff() {

    document.getElementById("product-info-hide").checked = false;
    $("#loginDisplay").html("");
    $("#loginDisplay").html(createSpanEvent("logOut","cursor","","logOut()") +
                            createSpanEvent("manager","cursor","","createManagerView()")+
                            createSpanEvent("bartender","cursor","","createBartenderView()")+
                            createSpanEvent("notify-security", "cursor", "", "rickRolled()"));

    if (theLowestInStock(5).length != 0) {
        alertBox(getString("less-than-five-warning"), 5000);
    } 

    if(OrderDB.all_orders.length != 0) {
        alertBox(getString("order-notification"), 5000);
    }

    updateViewUser();
}

/**
 * Rick rolls the user
*/
function rickRolled() {
    alertBox(getString("call-security-msg"), 5000);
    setTimeout(function () {window.location.href="https://www.youtube.com/watch?v=QtBDL8EiNZo";}, 5500);
}

/**
 *  Alerts the user if the password or username was entered incorrectly
*/
function logInUnsuccess() {

    alertBox(getString("log_in_unsuccess_msg"), 3000);
    updateViewUser();
}

/**
 *  Log the user out from the website and reset the view to the customer veiw
*/
function logOut() {
    $("#loginDisplay").html("");
    $("#loginDisplay").html(createSpanEvent("login", "cursor", "", "createLoginView()"));

    toLogOut();
    createMainCategory();
    updateViewAllProducts();
}

// ===========================================================================
// END OF FILE
// ===========================================================================</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#addBalance">addBalance</a></li><li><a href="global.html#addProductToMeny">addProductToMeny</a></li><li><a href="global.html#addToAcc">addToAcc</a></li><li><a href="global.html#addToCart">addToCart</a></li><li><a href="global.html#alertBox">alertBox</a></li><li><a href="global.html#calculateAmount">calculateAmount</a></li><li><a href="global.html#calculateCost">calculateCost</a></li><li><a href="global.html#calculateProfit">calculateProfit</a></li><li><a href="global.html#changePrice">changePrice</a></li><li><a href="global.html#changeStock">changeStock</a></li><li><a href="global.html#checkAddProductToMeny">checkAddProductToMeny</a></li><li><a href="global.html#checkAddToCart">checkAddToCart</a></li><li><a href="global.html#clearCart">clearCart</a></li><li><a href="global.html#createAddCurrency">createAddCurrency</a></li><li><a href="global.html#createAlertBoxView">createAlertBoxView</a></li><li><a href="global.html#createAllProducts">createAllProducts</a></li><li><a href="global.html#createAttribute">createAttribute</a></li><li><a href="global.html#createBartenderView">createBartenderView</a></li><li><a href="global.html#createEmptyShoppingCart">createEmptyShoppingCart</a></li><li><a href="global.html#createFilter">createFilter</a></li><li><a href="global.html#createFilterView">createFilterView</a></li><li><a href="global.html#createLoginView">createLoginView</a></li><li><a href="global.html#createLowestInStockDiv">createLowestInStockDiv</a></li><li><a href="global.html#createLowestInStockHeading">createLowestInStockHeading</a></li><li><a href="global.html#createLowestInStockView">createLowestInStockView</a></li><li><a href="global.html#createMainCategory">createMainCategory</a></li><li><a href="global.html#createMainCategoryButton">createMainCategoryButton</a></li><li><a href="global.html#createMainView">createMainView</a></li><li><a href="global.html#createManagerView">createManagerView</a></li><li><a href="global.html#createOrderDiv">createOrderDiv</a></li><li><a href="global.html#createOrderTable">createOrderTable</a></li><li><a href="global.html#createProductContainer">createProductContainer</a></li><li><a href="global.html#createProductInfoView">createProductInfoView</a></li><li><a href="global.html#createProductsByCategory">createProductsByCategory</a></li><li><a href="global.html#createProductsByFilter">createProductsByFilter</a></li><li><a href="global.html#createProfitTable">createProfitTable</a></li><li><a href="global.html#createShoppingCartDiv">createShoppingCartDiv</a></li><li><a href="global.html#createShowProductBaseView">createShowProductBaseView</a></li><li><a href="global.html#createSpanEvent">createSpanEvent</a></li><li><a href="global.html#createStaffInfoView">createStaffInfoView</a></li><li><a href="global.html#createVipLogIn">createVipLogIn</a></li><li><a href="global.html#findProductByID">findProductByID</a></li><li><a href="global.html#findUserId">findUserId</a></li><li><a href="global.html#finishOrder">finishOrder</a></li><li><a href="global.html#getAccountBalance">getAccountBalance</a></li><li><a href="global.html#getAllergens">getAllergens</a></li><li><a href="global.html#getComLock">getComLock</a></li><li><a href="global.html#getFilter">getFilter</a></li><li><a href="global.html#incrementOrder">incrementOrder</a></li><li><a href="global.html#indexOfCartProduct">indexOfCartProduct</a></li><li><a href="global.html#logIn">logIn</a></li><li><a href="global.html#logInStaff">logInStaff</a></li><li><a href="global.html#logInUnsuccess">logInUnsuccess</a></li><li><a href="global.html#logInVip">logInVip</a></li><li><a href="global.html#logOut">logOut</a></li><li><a href="global.html#removeAlertBox">removeAlertBox</a></li><li><a href="global.html#removeFromCart">removeFromCart</a></li><li><a href="global.html#removeOrder">removeOrder</a></li><li><a href="global.html#removeProductFromMeny">removeProductFromMeny</a></li><li><a href="global.html#resetCart">resetCart</a></li><li><a href="global.html#revertOrder">revertOrder</a></li><li><a href="global.html#rickRolled">rickRolled</a></li><li><a href="global.html#showBalance">showBalance</a></li><li><a href="global.html#showProductInfo">showProductInfo</a></li><li><a href="global.html#sortTables">sortTables</a></li><li><a href="global.html#stdOrder">stdOrder</a></li><li><a href="global.html#theLowestInStock">theLowestInStock</a></li><li><a href="global.html#toggleDisplaySibling">toggleDisplaySibling</a></li><li><a href="global.html#toLogIn">toLogIn</a></li><li><a href="global.html#toLogOut">toLogOut</a></li><li><a href="global.html#updateShoppingCartView">updateShoppingCartView</a></li><li><a href="global.html#updateView">updateView</a></li><li><a href="global.html#updateViewAllProducts">updateViewAllProducts</a></li><li><a href="global.html#updateViewAttribute">updateViewAttribute</a></li><li><a href="global.html#updateViewBartender">updateViewBartender</a></li><li><a href="global.html#updateViewClasses">updateViewClasses</a></li><li><a href="global.html#updateViewIds">updateViewIds</a></li><li><a href="global.html#updateViewLogin">updateViewLogin</a></li><li><a href="global.html#updateViewMain">updateViewMain</a></li><li><a href="global.html#updateViewMainCategory">updateViewMainCategory</a></li><li><a href="global.html#updateViewManager">updateViewManager</a></li><li><a href="global.html#updateViewPics">updateViewPics</a></li><li><a href="global.html#updateViewProducts">updateViewProducts</a></li><li><a href="global.html#updateViewUser">updateViewUser</a></li><li><a href="global.html#vipPay">vipPay</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.6</a> on Mon Mar 22 2021 16:48:16 GMT+0100 (Central European Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
